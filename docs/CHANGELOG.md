# Changelogs

## v2.0
- Implemented dependency injection and container for better modularity.
- Removed unused projects, classes, and anti-pattern implementations.
- Refactored service methods to use MediatR for improved maintainability.
- Enhanced logging configuration with a better-configured file.
- Updated documentation to reflect recent changes.
- Removed the feature allowing users to close tickets.
- Slash Commands can no longer be used or seen in DMs.
- Removed the option to disable some admin slash commands.
- Updated the project to use DSharpPlus v5.x.x-nightly version.
- Refactored the entire bot code to align with the breaking changes and new features introduced in the updated library.
- Improved code structure and ensured compatibility with the latest DSharpPlus API.
- Updated the option page to make labels more descriptive.
- Added Discord OAuth2 authentication with cookie-based session management.
- Configured access token storage in claims for session-based usage.
- Secured Hangfire Dashboard with custom authorization filter.
- Introduced policy-based authorization for Dashboard, leveraging ASP.NET Core policies for dynamic and centralized access control.
- Added support for database-driven dynamic permissions using custom authorization handlers.
- Implemented SupportOrHigher, ModeratorOrHigher, and other hierarchical policies for flexible role-based access control.
- Added a simple account view dialog for users to manage their account details.
- Improved the authorization system to dynamically evaluate permissions from the database while still supporting attribute-based authorization.
- Fixed a bug when selecting ticket type, message update was not being done correctly
- Fully fixed average response time calculation, only calculates the first responses between mods and user.
- UI consistency changes and fixes
- Moved the dashboard to `/dashboard` URI.
- Added a landing page at `/` with a login button.
- Fixed authorization logic to properly handle failed authentication states.
- Added a new error message for unauthorized access.
- Enhanced the result page with new buttons for authorized users.
- Introduced a MediatR pipeline behavior to enforce `AuthorizedUserId` checks dynamically for commands and queries.
- Refactored `IPermissionCheck` interface and `PermissionCheckAttribute` for better integration with the pipeline.
- Added extension methods to simplify permission validation and improve code reusability.
- Centralized authorization logic in the pipeline for improved logging and data collection.
- Implemented web panel access control, allowing only users directly added to teams to access the panel.
- Discord role members, even if roles are added to teams, will not have panel access unless explicitly added as team members.
- Adjusted `GetTeamPermissionLevelHandler.cs` to make `roleList` nullable, enabling calls without passing a role list.
- Updated team management methods and UI to reflect the new access control logic.
- Ensured teams with `Owner` permission level always have access to the web panel.